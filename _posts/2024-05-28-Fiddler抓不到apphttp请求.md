
---
layout: post
title:  "Fiddler抓不到apphttp请求"
date:   2024-05-28 15:49:20 +0800
categories:
      - fiddler
      - proxy
tags:
      - proxy
---

记Fiddler抓不到app发起的http请求

今天同事反应一个APP请求不正常，设计是每隔10s请求一次接口，但是结果是每3/s一次；这个变量是在登录接口返回的。

安智开发不在，于是我打开app直接去验证，果然不太对； 于是想到抓包看看究竟返回的是什么

打开fiddler, 打开代理， 手机连接wifi并配置代理，一气呵成，毕竟又不是第一次抓包了。

但是当我点击登录就时蒙了， fiddler没有抓取到任何http请求，我擦勒，

心里Os：没代理到？ 打开手机浏览器，随便点个网址，fiddler拦截框疯狂滚动（拦截到了）， 

这TM的什么情况，脑子短路了我。

突然fiddler弹窗提示更新，心里又想是不是喔版本太老的原因。于是又到官网去下载最新的版本

打开配置好后直接去app点击登录，还是没拦截到。这情况真的不简单。

突然脑子灵光了一下：是不是app需要重新打开才行？ 

于是重新打开app, 再点击登录，看着fiddler拦截框刷出的登录请求拦截，我松了口气。

所以同学们要记住：fiddler代理设置完成后，APP要重启才能正常拦截。我估计是因为http2的链接复用导致的。

每天上一当，当当不一样。 散了






